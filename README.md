
üöÄ Deploy –ø—Ä–æ–µ–∫—Ç–∞ search-hotel –Ω–∞ Yandex Cloud

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∫ —Å–µ–±–µ –Ω–∞ –º–∞—à–∏–Ω—É. üñ•Ô∏è

2. –í –ø–∞–∫–µ—Ç–µ `/../search-hotel/deploy` –Ω–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `terraform.tfvars` –∏ –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç Yandex Cloud:
   - –î–ª—è `yc_token` –≤–≤–µ–¥–∏—Ç–µ –Ω–∞ –º–∞—à–∏–Ω–µ, –≥–¥–µ –µ—Å—Ç—å CLI, –∫–æ–º–∞–Ω–¥—É:
     ```
     yc iam create-token
     ```
   - –î–ª—è `yc_cloud_id` –≤–≤–µ–¥–∏—Ç–µ –Ω–∞ –º–∞—à–∏–Ω–µ, –≥–¥–µ –µ—Å—Ç—å CLI, –∫–æ–º–∞–Ω–¥—É:
     ```
     yc cloud list
     ```
   - –î–ª—è `yc_folder_id` –≤–≤–µ–¥–∏—Ç–µ –Ω–∞ –º–∞—à–∏–Ω–µ, –≥–¥–µ –µ—Å—Ç—å CLI, –∫–æ–º–∞–Ω–¥—É:
     ```
     yc folder list
     ```

   –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∂–µ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞.

   –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ CLI: https://yandex.cloud/ru/docs/cli/ üìö

3. –°–æ–∑–¥–∞–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Å–≤–æ–µ–π –º–∞—à–∏–Ω–µ –∫–æ–º–∞–Ω–¥–æ–π:
```
ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519
```

4. –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞:
- –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–∫–µ—Ç `/../search-hotel/deploy` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
  ```
  terraform init
  terraform apply
  ```
- –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ, –≤–≤–µ–¥–∏—Ç–µ `yes`. ‚úÖ

–ü—Ä–∏–¥–µ—Ç—Å—è –ø–æ–¥–æ–∂–¥–∞—Ç—å 15-20 –º–∏–Ω—É—Ç. ‚è≥

5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ö–æ—Å—Ç –∏–∑ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É PostgreSQL. –ü—Ä–∏–º–µ—Ä:
```
rc1a-5d5jiscjothi8rj3.mdb.yandexcloud.net

```
–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–¥–µ—Å—å: https://yandex.cloud/ru/docs/managed-postgresql/operations/cluster-list

6. –ó–∞–π–¥–∏—Ç–µ –ø–æ SSH –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É:
https://yandex.cloud/ru/docs/compute/operations/vm-connect/ssh üîë

7. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `application.yml` —Å –ø–æ–º–æ—â—å—é nano:
```
nano /opt/app/grails-app/conf/application.yml

```
8. –í —Ñ–∞–π–ª–µ –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `host` –Ω–∞ —Å–≤–æ–π:
```
-url: jdbc:postgresql://your-cluster.mdb.yandexcloud.net:6432/search_hotel_db?ssl=true&sslmode=verify-full&sslrootcert=/home/appuser/.postgresql/root.crt

```
9. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –í–ú. üîÑ

10. –ó–∞–π–¥–∏—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `search_hotel_db`. –ó–∞–ø—Ä–æ—Å –≤–æ–∑—å–º–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑ —Ñ–∞–π–ª–∞ `default_value.txt` –≤ –ø—Ä–æ–µ–∫—Ç–µ.

11. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É: üåê
 ```
 https://<–ø—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤–∞—à–µ–π –í–ú>:8080 
 ```
